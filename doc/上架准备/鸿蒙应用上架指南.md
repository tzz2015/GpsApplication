# 鸿蒙应用上架指南

本文档说明将「遨游轨迹」应用上架至华为/鸿蒙应用市场需要准备的内容与完整流程。

---

## 一、前置条件

| 项目 | 说明 |
|------|------|
| 开发者账号 | 在 [华为开发者联盟](https://developer.huawei.com/consumer/cn/) 注册并完成**实名认证** |
| 开发环境 | DevEco Studio、HarmonyOS SDK、项目可正常编译并生成 HAP/APP |
| 应用合规 | 隐私政策、用户协议已就绪，权限使用合理且有说明 |

---

## 二、需要准备的材料清单

### 2.1 应用包与签名

- **应用安装包**：已签名的 `.app` 包（由 HAP 打包而成）
- **签名相关文件**（见下方「签名配置」）：
  - 密钥库：`.p12`
  - 证书：`.cer`（由 AGC 颁发）
  - Profile：`.p7b`

### 2.2 应用市场展示材料

| 材料 | 规格/要求 |
|------|-----------|
| 应用图标 | 符合鸿蒙设计规范，通常 256x256 或平台要求的多种尺寸 |
| 应用名称 | 与包内配置一致，简洁易识别的中文名 |
| 应用简介 | 一句话介绍，用于列表展示 |
| 应用描述 | 详细功能介绍、使用场景、特色说明 |
| 应用截图 | 至少 3–5 张，建议覆盖主要页面（首页、轨迹记录、个人中心等），尺寸按应用市场要求 |
| 演示视频（可选） | 展示核心功能，有助于审核与转化 |
| 关键词 | 用于应用市场搜索，如：轨迹、扫墓、记录、定位 |
| 分类 | 选择最贴切的分类（如：生活、工具等） |
| 隐私政策链接 | 可访问的 URL，内容需与应用内展示一致 |
| 用户协议链接 | 可访问的 URL |

### 2.3 合规与声明

- **隐私政策**：说明收集哪些数据、用途、存储与保护方式、用户权利
- **用户协议**：使用规范、免责与责任范围
- **权限说明**：在应用内或应用市场描述中说明所需权限及使用场景（如：定位用于记录轨迹）

---

## 三、上架流程

### 阶段一：开发者与项目准备

1. **注册与认证**
   - 打开 [华为开发者联盟](https://developer.huawei.com/consumer/cn/)
   - 注册账号并登录
   - 完成**实名认证**（个人或企业，按实际选择）

2. **在 AppGallery Connect 创建应用**
   - 登录 [AppGallery Connect](https://developer.huawei.com/consumer/cn/service/jms/agc/index.html)
   - 进入「我的项目」→ 选择或创建项目
   - 「我的应用」→ 添加应用，选择平台为 **HarmonyOS**，填写包名等信息（与工程中 `module.json5` / `app.json5` 中一致）

### 阶段二：签名配置（发布证书与 Profile）

1. **在 DevEco Studio 生成密钥与证书请求**
   - 菜单：**Build → Generate Key and CSR**
   - 填写密钥库路径、密码、别名、有效期等，生成：
     - `.p12`（密钥库，务必妥善保管）
     - `.csr`（证书请求文件，用于在 AGC 申请证书）

2. **在 AGC 申请发布证书**
   - AGC → 项目 → **证书、APP ID 与 Profile**
   - 新增**发布证书**，上传上一步的 `.csr`
   - 下载生成的 `.cer` 证书文件

3. **在 AGC 申请发布 Profile**
   - 同一入口下，**Profile** → 添加
   - 选择对应应用（APP ID）、刚申请的发布证书、所需权限等
   - 生成并下载 `.p7b` 文件

4. **在 DevEco Studio 配置签名**
   - **File → Project Structure → Signing Configs**（或 `build-profile.json5` 中配置）
   - 关闭「自动签名」，手动配置：
     - Store File：`.p12` 路径
     - Store Password、Key Alias、Key Password
     - Certpath File：`.cer`
     - Profile File：`.p7b`

### 阶段三：构建应用包

1. 在 DevEco Studio 中选择 **Build → Build APP(s)**（或通过 Gradle 任务打 release 包）
2. 在工程 `build/outputs/default` 或发布输出目录获取已签名的 `.app` 包
3. 建议在真机上安装该包做一次完整功能与权限测试

### 阶段四：在应用市场填写信息并提交

1. 在 AppGallery Connect 中进入该应用的**应用发布 / 应用市场**相关入口
2. 按页面要求填写：
   - 应用名称、简介、描述、分类、关键词
   - 上传图标、截图、可选视频
   - 选择分发国家/地区
   - 填写隐私政策链接、用户协议链接
3. 上传已签名的 `.app` 安装包
4. 确认无误后**提交审核**

### 阶段五：审核与发布

- 审核时间一般为 **1–3 个工作日**（以实际平台为准）
- 审核期间可在 AGC 查看审核状态与意见
- 若被驳回，根据反馈修改应用或材料后重新提交
- 审核通过后，在后台选择**上架**，应用即可在应用市场中展示

---

## 四、审核常见关注点

- **权限**：仅申请必要权限，并在界面或描述中说明用途
- **隐私**：隐私政策可访问、内容完整，与实际上报/收集行为一致
- **行为与安全**：无恶意行为，无违规内容，遵守平台规范
- **签名**：上架包必须使用与在 AGC 配置一致的发布证书与 Profile

---

## 五、本项目的特别提醒

- **包名与 APP ID**：确保 AGC 中创建的应用包名与 `entry` 模块中 `module.json5` 的包名一致
- **权限**：项目使用了定位、网络等权限，需在应用描述或隐私政策中说明（如：定位用于记录轨迹与打卡点）
- **隐私政策与用户协议**：应用内已有入口，上架时填写的链接需与这些页面内容一致（或直接使用可访问的网页地址）
- **证书与密钥**：`.p12` 及密码请安全备份；证书建议申请较长有效期（如 25 年），避免频繁更换

---

## 六、参考链接

- [华为开发者联盟](https://developer.huawei.com/consumer/cn/)
- [AppGallery Connect](https://developer.huawei.com/consumer/cn/service/jms/agc/index.html)
- [应用市场分发（华为消费者业务）](https://developer.huawei.com/consumer/cn/appgallery/)
- 鸿蒙应用开发与发布官方文档（以 DevEco 与 AGC 当前版本为准）

---

*文档版本：v1.0 | 适用于遨游轨迹项目上架鸿蒙应用市场*
