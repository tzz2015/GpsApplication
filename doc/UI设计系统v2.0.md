# 遨游轨迹 App UI 设计系统 v2.0 — 传承 · 山林

> **实现与审核请以 [UI设计系统v3.0.md](UI设计系统v3.0.md) 为准**（鸿蒙规范合规 + 禁止 emoji 图标）。下文为视觉与色彩基准。  
> 设计主题：**传承（家族记忆）· 山林（路径与自然）**。  
> 用温暖、克制、易读的视觉，替代原 v1.0 的蓝橙科技感，更贴合扫墓轨迹、家族传承与山路场景；仍以 `doc/prototype/prototype.html` 为单一真相源，ArkTS 实现与之对齐。

---

## 一、设计原则

1. **情感契合**：扫墓轨迹 = 家族记忆 + 山路行走。界面应传达**温暖、庄重、可读**，避免冰冷或娱乐化。
2. **色彩语义**：主色采用**暖褐色/陶土色**（传承、土地）；强调色采用**低饱和绿**（山林、路径、生命），与蓝橙科技风明确区分。
3. **易读与包容**：对比度充足、字号与点击区域满足中老年人使用（NFR-006）；留白充足，不堆砌装饰。
4. **HarmonyOS 兼容**：保持规范组件与安全区；登录按钮仍使用华为红 `#CF0A2C`。

---

## 二、色彩系统

### 2.1 主色与功能色

| 用途 | 变量名 | 色值 | 说明 |
|------|--------|------|------|
| 主色 | `--primary` | `#A0522D` | 陶土褐，Tab 选中、主要按钮、链接 |
| 主色深 | `--primary-dark` | `#8B4513` | 悬停/按下 |
| 主色浅 | `--primary-light` | `#FDF5F0` | 背景、标签、选中背景 |
| 强调/路径 | `--accent` | `#4A7C59` | 山林绿，新建轨迹、开始记录、轨迹线、主操作 |
| 强调浅 | `--accent-light` | `#EEF5EE` | 提示区、起点/打卡点浅底 |
| 成功 | `--success` | `#4A7C59` | 与 accent 同系，已完成、起点 |
| 警告 | `--warning` | `#B8860B` | 暗金，编辑中、已暂停 |
| 危险 | `--danger` | `#A63D3D` |  muted 红，删除、录制红点、终点 |
| 华为登录红 | （固定） | `#CF0A2C` | 仅登录按钮，符合官方规范 |

### 2.2 中性色与背景

| 用途 | 变量名 | 色值 | 说明 |
|------|--------|------|------|
| 页面背景 | `--bg` | `#FAF8F5` | 暖米白，像纸张 |
| 卡片/浮层 | `--card` | `#FFFEFB` | 微暖白 |
| 主文字 | `--text-primary` | `#2C2825` | 暖炭黑 |
| 次要文字 | `--text-secondary` | `#5C564D` | 暖灰褐 |
| 提示文字 | `--text-hint` | `#8E8880` | 暖灰 |
| 分割线/边框 | `--border` | `#E8E4DF` | 暖灰边框 |

### 2.3 场景渐变

- **启动页**：`linear-gradient(165deg, #5C4A3D 0%, #4A3F38 45%, #2C2825 100%)`（暖深褐）
- **登录页**：`linear-gradient(170deg, #5C4A3D 0%, #4A3F38 50%, #3D3530 100%)`
- **首页统计卡片**：`linear-gradient(135deg, #A0522D 0%, #B85C38 100%)`（陶土渐变）
- **个人中心头部**：`linear-gradient(135deg, #3D3935 0%, #2C2825 100%)`（暖深灰）
- **轨迹卡片地图占位**：`linear-gradient(135deg, #EEF5EE 0%, #E0EDE0 100%)`（淡山林绿）
- **轨迹记录页地图占位**：同上或略深 `#E0EDE0`

---

## 三、字体与排版

- **字体族**：`HarmonyOS Sans`, `PingFang SC`, `-apple-system`, `sans-serif`
- **基础字号**：14px，行高 1.5；主文字使用 `text-primary` 暖色。

| 用途 | 字号 | 字重 | 颜色 |
|------|------|------|------|
| 大标题（如首页标题） | 24px | 800 | text-primary |
| 页面标题 | 18px | 700 | text-primary |
| 卡片标题/列表主信息 | 16px | 700 | text-primary |
| 正文 | 15px | 400 | text-primary / secondary |
| 说明/提示 | 13px | 400 | text-secondary |
| 辅助/标签 | 12px | 500 | text-hint |
| 小标签（badge） | 11px | 600 | 依语义 |

---

## 四、间距与圆角

- **间距基准（8px 网格）**：4, 8, 12, 16, 20, 24, 32, 40, 48
- **安全区**：`--safe-top: 44px`，`--safe-bottom: 34px`

| 圆角用途 | 变量/值 | 说明 |
|----------|---------|------|
| 小控件 | `--radius-sm: 8px` | 输入框、小按钮 |
| 默认 | `--radius: 12px` | 卡片、按钮、统计块 |
| 大卡片/面板 | `--radius-lg: 16px` | 底部录制面板、弹窗顶部 |
| 超大/胶囊 | `--radius-xl: 20px` | 主按钮、大卡片 |
| 全圆 | `--radius-full: 999px` | 头像、标签、胶囊按钮 |

---

## 五、阴影

- **卡片**：`0 1px 3px rgba(44,40,37,0.06)`（略暖阴影）
- **浮起**：`0 4px 12px rgba(44,40,37,0.08)`
- **弹窗/底部面板**：`0 -4px 24px rgba(44,40,37,0.1)` 或 `0 8px 32px rgba(44,40,37,0.12)`

---

## 六、核心组件约定

- **主按钮**：背景 `primary`（陶土褐）或 `accent`（山林绿，新建/开始用 accent），圆角 24px，高度约 50px，文字 `#FFFEFB`。
- **次要按钮**：`#FFFEFB` 底 + 主色描边，或浅灰底 `#F5F2ED`。
- **新建轨迹入口**：白底 + 虚线描边 `accent`，文字与图标 `accent`。
- **Tab 选中**：主色（陶土褐）文字 + 底部 3px 主色条，宽度约 24px。
- **Badge**：成功/警告等语义背景 + 语义色文字，小圆角胶囊。
- **底部 TabBar**：背景 `#FFFEFB`，顶部分割线 `--border`，未选 `text-secondary`，选中 `primary`，高度 56px + safe-bottom。
- **录制中红点**：使用 `--danger`（#A63D3D），不使用鲜红。

---

## 七、页面级说明

- **P0-1 启动页**：暖深褐渐变全屏，Logo 80–88px 圆角方，应用名 + 标语，文字 `#FFFEFB` 或 `rgba(255,254,251,0.95)`，底部「点击进入」可选。
- **P0-2 登录页**：同系暖褐渐变，Logo + 标题 + 标语；华为红按钮「华为账号一键登录」；底部协议勾选 + 安全区。
- **P1-0 首页**：顶栏与背景用 `--bg`/`--card`，双 Tab 主色为陶土褐；统计卡片用主色陶土渐变；创建按钮用 accent 虚线样式；轨迹卡片白底 + 顶部淡山林绿地图占位 + **绿色轨迹线**（accent）。
- **P1-3 轨迹记录**：全屏地图（淡绿/地图风格占位），右上角控件；**底部圆角白面板**（#FFFEFB），上圆角 16–20px，内含录制状态、里程/用时/海拔、操作按钮，底部 safe-bottom。
- **P1-4 轨迹详情**：顶部地图条 + 标题/统计/打卡点时间轴；操作按钮与首页风格一致。
- **P3-1 个人中心**：**头部暖深灰渐变**（#3D3935 → #2C2825），头像 + 昵称 + 统计条；下方卡片用 `--card`，分割线用 `--border`。

---

## 八、与 ArkTS 的对应

- 颜色：在 `entry/src/main/resources/base/element/color.json` 中与本节色值一致。
- 圆角、间距、字号：在各自页面 `.ets` 中按本设计系统书写，或通过资源引用。
- 原型更新后，ArkTS 以 `doc/prototype/prototype.html` 为视觉基准做对照修改。

---

## 九、v1.0 → v2.0 变更摘要

| 项目 | v1.0 | v2.0 |
|------|------|------|
| 主色 | 蓝 #2563EB | 陶土褐 #A0522D |
| 强调色 | 橙 #F97316 | 山林绿 #4A7C59 |
| 背景 | 冷灰 #F8FAFC | 暖米白 #FAF8F5 |
| 文字 | 冷炭 #0F172A | 暖炭 #2C2825 |
| 轨迹线/新建 | 橙色 | 绿色 |
| 启动/登录 | 蓝色渐变 | 暖褐渐变 |
| 个人中心头 | 深灰蓝 | 暖深灰 |

---

## 十、与 UI-UX-Pro-Max Skill 的对齐

本设计在产出后已用项目内 **ui-ux-pro-max** skill 做校验与补充。设计系统生成命令与结论摘要如下，便于后续迭代时继续沿用该 skill。

### 10.1 设计系统生成（skill 输出摘要）

- **查询**：`family memory trail recording nature heritage mobile app`，项目名「遨游轨迹」
- **Pattern**：Storytelling + Hero-Centric（与「家族记忆 / 传承」叙事一致）
- **色彩方向**：Nature green + 暖色强调（skill 推荐 Climate Tech / Sustainability 系：绿 #059669 + 金 #FBBF24；本方案采用**陶土褐 + 山林绿**，同属自然/大地语义，更偏传承与庄重）
- **Typography**：skill 建议 Artisanal + Heritage；本方案沿用 HarmonyOS Sans，保持平台一致与可读性
- **Anti-patterns**：避免 Generic product pages、No story；本方案以「传承·山林」叙事与情感为主线

### 10.2 色彩与 Color 域检索

- 检索关键词：`sustainability nature earth heritage memorial`
- 参考调性：Sustainability/ESG（Nature green + ocean blue）、Agriculture（Earth green + harvest gold）、Climate Tech（Nature green + solar gold）
- v2.0 取「大地/传承」为主（陶土褐）、「山林/路径」为强调（山林绿），与上述自然/大地语义一致，并更贴合扫墓与家族场景

### 10.3 UX 与可访问性（skill 要求）

- **对比度**：正文与背景 ≥ 4.5:1（v2.0 主文字 #2C2825 于 #FAF8F5 上满足）
- **触控**：可点击区域 ≥ 44×44px；相邻可点击元素间距 ≥ 8px（实现时在 ArkTS 中保证）
- **动效**：尊重 `prefers-reduced-motion`；过渡 150–300ms
- **图标**：不以 emoji 作 UI 图标，使用统一 SVG/资源图标
- **焦点**：键盘/焦点可见（Focus 环）

### 10.4 Pre-Delivery Checklist（来自 skill）

实现与走查时建议勾选：

- [ ] 不以 emoji 作为图标（使用 SVG/Heroicons/Lucide 等）
- [ ] 所有可点击元素具备 cursor-pointer / 点击态
- [ ] Hover/点击态有平滑过渡（150–300ms）
- [ ] 浅色模式下正文对比度 ≥ 4.5:1
- [ ] 焦点状态对键盘导航可见
- [ ] 尊重 prefers-reduced-motion
- [ ] 响应式/多分辨率验证（如 375、768、1024、1440）

---

*文档版本：v2.0 | 主题「传承 · 山林」| 与 prototype.html 同步维护；已按 ui-ux-pro-max skill 校验与补充。*
